__require=function i(t,r,e){function o(s,c){if(!r[s]){if(!t[s]){var d="function"==typeof __require&&__require;if(!c&&d)return d(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var h=r[s]={exports:{}};t[s][0].call(h.exports,function(i){var r=t[s][1][i];return o(r||i)},h,h.exports,i,t,r,e)}return r[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<e.length;s++)o(e[s]);return o}({game:[function(i,t,r){"use strict";cc._RF.push(t,"cf336cEAD1Nr4xwRdns1EnF","game"),cc.Class({extends:cc.Component,properties:{ground:{default:null,type:cc.Node},bird:{default:null,type:cc.Node},background:{default:null,type:cc.Node},pillar1:{default:null,type:cc.Node},pillar2:{default:null,type:cc.Node},scoreDisplay:{default:null,type:cc.Label},groundSpeed:10,birdFloatSpeed:.5,fpscount:0,isGameOver:!1},onLoad:function(){this.score=0,this.bird.isprepared=!1,this.pillar1.y=700*Math.random()-280,this.pillar2.y=700*Math.random()-280,this.node.on(cc.Node.EventType.TOUCH_START,this.touchFunction,this)},touchFunction:function(){console.log("cc.Node.EventType.TOUCH_START"),this.bird.stopAllActions(),this.jumpAction=this.setJumpAction(),this.bird.isprepared=!0,this.bird.runAction(this.jumpAction)},setJumpAction:function(){this.bird.jumpHeight=130,this.bird.jumpDuraction=.3,this.bird.jumpRotation=-15,this.bird.dropTurnDuration=.2,this.bird.dropDownDuration=1.3,this.bird.dropRotation=90;var i=cc.moveBy(this.bird.jumpDuraction,cc.v2(0,this.bird.jumpHeight)),t=cc.rotateTo(0,-15),r=cc.moveBy(this.bird.jumpDuraction,cc.v2(0,-this.bird.jumpHeight)),e=cc.rotateTo(this.bird.dropTurnDuration,90),o=cc.moveTo((this.bird.y+640)/1280*this.bird.dropDownDuration,this.bird.x,-512),n=cc.spawn(e,o);return cc.sequence(t,i,r,n)},groundMove:function(){this.ground.x-=this.groundSpeed,this.ground.x<=-420&&(this.ground.x=-360)},birdFloat:function(){this.fpscount%40<20?this.bird.y+=this.birdFloatSpeed:this.bird.y-=this.birdFloatSpeed,this.fpscount+=1},pillarMove:function(){this.pillar1.x-=this.groundSpeed,this.pillar2.x-=this.groundSpeed,this.pillar1.x<=-430&&(this.pillar1.x=430,this.pillar1.y=700*Math.random()-280),this.pillar2.x<=-430&&(this.pillar2.x=430,this.pillar2.y=700*Math.random()-280),this.getScore()&&(this.score+=1,this.scoreDisplay.string="Score: "+this.score)},getScore:function(){return this.pillar1.x<=-135&&this.pillar1.x>-135-this.groundSpeed||(this.pillar2.x<=-135&&this.pillar2.x>-135-this.groundSpeed||void 0)},gameOver:function(){this.bird.getComponent(cc.Animation).stop(),this.node.off(cc.Node.EventType.TOUCH_START,this.touchFunction,this),this.bird.stopAllActions(),cc.director.loadScene("game")},update:function(i){0==this.bird.isprepared&&this.birdFloat(),0==this.isGameOver&&this.groundMove(),1==this.bird.isprepared&&0==this.isGameOver&&this.pillarMove(),(this.bird.y<=-470||this.bird.y>=1e3)&&(this.isGameOver=!0,this.gameOver()),console.log(this.score)}}),cc._RF.pop()},{}]},{},["game"]);